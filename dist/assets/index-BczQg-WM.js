(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerPolicy&&(n.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?n.credentials="include":c.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(c){if(c.ep)return;c.ep=!0;const n=t(c);fetch(c.href,n)}})();const s={0:{desc:"Clear sky",icon:"â˜€ï¸"},1:{desc:"Mainly clear",icon:"ðŸŒ¤ï¸"},2:{desc:"Partly cloudy",icon:"â›…"},3:{desc:"Overcast",icon:"â˜ï¸"},45:{desc:"Fog",icon:"ðŸŒ«ï¸"},48:{desc:"Depositing rime fog",icon:"ðŸŒ«ï¸"},51:{desc:"Light drizzle",icon:"ðŸŒ¦ï¸"},61:{desc:"Slight rain",icon:"ðŸŒ§ï¸"},63:{desc:"Moderate rain",icon:"ðŸŒ§ï¸"},65:{desc:"Heavy rain",icon:"ðŸŒ§ï¸"},71:{desc:"Slight snow",icon:"â„ï¸"},95:{desc:"Thunderstorm",icon:"â›ˆï¸"}};async function y(e,o,t="celsius"){const a=`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${o}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&hourly=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto&temperature_unit=${t}`,n=await(await fetch(a)).json(),r=n.current.weather_code;return{current:{temp:Math.round(n.current.temperature_2m),description:s[r]?.desc||"Unknown",icon:s[r]?.icon||"â“",humidity:n.current.relative_humidity_2m,windSpeed:n.current.wind_speed_10m},hourly:{time:n.hourly.time.slice(0,24),temp:n.hourly.temperature_2m.slice(0,24).map(Math.round),icon:n.hourly.weather_code.slice(0,24).map(d=>s[d]?.icon||"â“")},daily:{time:n.daily.time,tempMax:n.daily.temperature_2m_max.map(Math.round),tempMin:n.daily.temperature_2m_min.map(Math.round),icon:n.daily.weather_code.map(d=>s[d]?.icon||"â“")}}}let u="celsius",l=null;const i={cityName:document.getElementById("city-name"),currentDate:document.getElementById("current-date"),mainTemp:document.getElementById("main-temp"),weatherDesc:document.getElementById("weather-desc"),highTemp:document.getElementById("high-temp"),lowTemp:document.getElementById("low-temp"),hourlyList:document.getElementById("hourly-list"),dailyList:document.getElementById("daily-list"),app:document.getElementById("app"),settingsBtn:document.getElementById("settings-btn"),settingsModal:document.getElementById("settings-modal"),closeSettings:document.getElementById("close-settings"),unitC:document.getElementById("unit-c"),unitF:document.getElementById("unit-f")};async function h(){g(),f(),await w()}function g(){const e=new Date;i.currentDate.textContent=e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function f(){i.settingsBtn.onclick=()=>i.settingsModal.classList.remove("hidden"),i.closeSettings.onclick=()=>i.settingsModal.classList.add("hidden"),i.unitC.onclick=()=>m("celsius"),i.unitF.onclick=()=>m("fahrenheit")}async function m(e){u!==e&&(u=e,i.unitC.classList.toggle("active",e==="celsius"),i.unitF.classList.toggle("active",e==="fahrenheit"),l&&await p(l.lat,l.lon))}async function w(){navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const{latitude:o,longitude:t}=e.coords;l={lat:o,lon:t},await p(o,t),await L(o,t)},()=>{i.cityName.textContent="Location Access Denied"}):i.cityName.textContent="Geolocation not supported"}async function L(e,o){try{const a=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${e}&longitude=${o}&localityLanguage=en`)).json();i.cityName.textContent=a.city||a.locality||"Your Location"}catch{i.cityName.textContent="Your Location"}}async function p(e,o){try{const t=await y(e,o,u);_(t),v(t.current.description)}catch(t){console.error("Failed to fetch weather:",t)}}function _(e){i.mainTemp.textContent=e.current.temp.toString(),i.weatherDesc.textContent=`${e.current.icon} ${e.current.description}`,i.highTemp.textContent=e.daily.tempMax[0].toString(),i.lowTemp.textContent=e.daily.tempMin[0].toString(),i.hourlyList.innerHTML=e.hourly.time.map((o,t)=>`
    <div class="hourly-item">
      <span class="time">${new Date(o).getHours()}:00</span>
      <span class="icon">${e.hourly.icon[t]}</span>
      <span class="temp">${e.hourly.temp[t]}Â°</span>
    </div>
  `).join(""),i.dailyList.innerHTML=e.daily.time.map((o,t)=>{const a=new Date(o);return`
      <div class="daily-item">
        <span class="day">${t===0?"Today":a.toLocaleDateString("en-US",{weekday:"short"})}</span>
        <span class="icon">${e.daily.icon[t]}</span>
        <div class="temp-range">
          <span>${e.daily.tempMax[t]}Â°</span> 
          <span style="opacity: 0.5; margin-left: 10px">${e.daily.tempMin[t]}Â°</span>
        </div>
      </div>
    `}).join("")}function v(e){const o=e.toLowerCase();if(i.app.className="",o.includes("clear")){const t=new Date().getHours();i.app.classList.add(t>6&&t<20?"weather-clear-day":"weather-clear-night")}else o.includes("rain")||o.includes("drizzle")||o.includes("thunderstorm")?i.app.classList.add("weather-rain"):i.app.classList.add("weather-cloudy")}h();
